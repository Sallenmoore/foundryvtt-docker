<form>
	<style>
		.delete-all-container {
			position: sticky;
			top: -8px;
			z-index: 100; /* This ensures the sticky elements are displayed on top of other elements */
		}
		.search-bar {
			position: sticky;
			top: 22px; /* Adjust this value as needed */
			z-index: 100;
		}
		.saved-names-window {
			display: flex;
			flex-direction: column;
			overflow: auto;
		}
		.saved-descriptions-window {
			display: flex;
			flex-direction: column;
		}
		.saved-descriptions-window table {
			width: 100%;
			table-layout: auto;
			border-collapse: collapse;
		}
		.saved-descriptions-window th {
			position: sticky;
			top: 47px; /* Adjust this value as needed */
			z-index: 100;
			background-color: #8878a0;
			color: #fcfaff;
			font-weight: bold;
			white-space: nowrap; /* Prevent text wrapping */
		}
		.saved-descriptions-window th,
		.saved-descriptions-window td {
			border: 1px solid #6633cc;
			padding: 2px;
			text-align: left;
			vertical-align: middle;
		}
		.saved-descriptions-window td {
			white-space: nowrap; /* Prevent text wrapping */
		}
		.saved-descriptions-window td.description {
			white-space: normal; /* Allow text wrapping */
		}
		.saved-descriptions-window .description-button {
			background-color: #6633cc;
			color: #fcfaff;
			border: none;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			width: 100%;
			font-size: 14px;
			cursor: pointer;
			box-sizing: border-box;
			z-index: 0;
		}
		.saved-descriptions-window .description-button:hover {
			background-color: #512b9d;
		}
		.saved-descriptions-window .description-button::after {
			content: "";
			position: absolute;
			top: -2px;
			right: -2px;
			bottom: -2px;
			left: -2px;
			border: 2px solid transparent;
			z-index: -1;
		}
		.saved-descriptions-window .description-button:hover::after {
			border-color: #6633cc;
		}
		.editable-indicator {
			font-size: 0.8em;
			color: #6633cc;
		}
		/* New styles */
		.search-bar input[type="text"] {
			padding: 8px;
			border: 1px solid #6633cc;
			background-color: #e8cafa;
			border-radius: 4px;
			outline: none;
			transition: border-color 0.3s ease;
		}
		.search-bar input[type="text"]:focus {
			border-color: #6633cc;
			box-shadow: 0 0 0 1px #6633cc;
		}
		.edit-field:focus {
			outline: none;
			border-color: #6633cc;
			box-shadow: 0 0 4px rgba(102, 51, 204, 0.5);
		}
		.saved-descriptions-window td.description {
			max-width: 800px;
			white-space: normal;
		}
		.saved-descriptions-window tr:nth-child(even) {
			background-color: #ddbde2;
		}
		.saved-descriptions-window table td.actions .description-button {
			flex-grow: 0;
		}
		.key {
			font-weight: bold;
		}
	</style>
	<div class="delete-all-container">
		<button id="delete-all-descriptions" class="delete-all description-button">
			{{localize "CONFIG.DELETE_ALL"}}
		</button>
	</div>
	<div
		id="confirmation-dialog-descriptions"
		title="Confirm Delete All"
		style="display: none">
		<p>{{localize "CONFIG.DELETE_ALL_DESCRIPTIONS"}}</p>
	</div>
	<div class="search-bar">
		<input
			type="text"
			id="search-descriptions"
			autocomplete="off"
			placeholder="{{localize 'CONFIG.SEARCH'}}" />
	</div>
	<table>
		<thead>
			<tr>
				<th>{{localize "CONFIG.DATE"}}</th>
				<th>{{localize "CONFIG.NAME"}}</th>
				<th>{{localize "CONFIG.CREATURE"}}</th>
				<th>
					{{localize "CONFIG.GENRE"}}
					<span class="editable-indicator">&#x270E;</span>
				</th>
				<th>{{localize "CONFIG.LANGUAGE"}}</th>
				<th>
					{{localize "CONFIG.DESCRIPTION"}}
					<span class="editable-indicator">&#x270E;</span>
				</th>
				<th>{{localize "CONFIG.REGENERATE"}}</th>
				<th>{{localize "CONFIG.DELETE"}}</th>
			</tr>
		</thead>
		<tbody>
			{{#each rpSavedDescriptions as |description key|}}
			<tr>
				<td>{{rpFormatDate description.date}}</td>
				<td
					class="edit-field key"
					data-key="{{key}}"
					data-field="name"
					contenteditable="false">
					{{description.name}}
				</td>
				<td
					class="edit-field"
					data-key="{{key}}"
					data-field="creature"
					contenteditable="false">
					{{description.creature}}
				</td>
				<td
					class="edit-field"
					data-key="{{key}}"
					data-field="genre"
					contenteditable="true">
					{{description.genre}}
				</td>
				<td
					class="edit-field"
					data-key="{{key}}"
					data-field="language"
					contenteditable="false">
					{{description.language}}
				</td>
				<td
					class="edit-field description"
					data-key="{{key}}"
					data-field="description"
					contenteditable="true">
					{{description.description}}
				</td>
				<td>
					<button
						class="description-button regenerate-description"
						data-key="{{key}}">
						{{localize "CONFIG.REGENERATE"}}
					</button>
				</td>
				<td>
					<button
						class="description-button delete-description"
						data-key="{{key}}">
						{{localize "CONFIG.DELETE"}}
					</button>
				</td>
			</tr>
			{{/each}}
		</tbody>
	</table>
	<span class="editable-indicator">&#x270E;</span> {{localize
	"CONFIG.EDITABLE_INDICATOR"}}. {{localize "CONFIG.CLICK_TO_EDIT"}}.
</form>
